rmcs_executor:
  ros__parameters:
    update_rate: 1000.0
    components:
      - rmcs_core::hardware::SteeringSentry -> forwarder
      - rmcs_referee::Status -> referee_status

      - rmcs_core::controller::chassis::steering_wheel::SentryChassis -> chassis

      - rmcs_core::controller::gimbal::GimbalController -> gimbal_controller
      - rmcs_core::controller::pid::ErrorPidController -> yaw_angle_pid_controller
      - rmcs_core::controller::pid::PidController -> yaw_velocity_pid_controller
      - rmcs_core::controller::pid::ErrorPidController -> pitch_angle_pid_controller
      - rmcs_core::controller::pid::PidController -> pitch_velocity_pid_controller

      - rmcs_core::controller::gimbal::ShootingController -> shooting_controller
      - rmcs_core::controller::pid::PidController -> left_friction_velocity_pid_controller
      - rmcs_core::controller::pid::PidController -> right_friction_velocity_pid_controller
      - rmcs_core::controller::pid::PidController -> bullet_feeder_velocity_pid_controller

    
    
forwarder:
  ros__parameters:
    upper_board_flag: 0x0000ce3b
    lower_board_flag: 0x0000ce3b
    
    left_front_zero_point: 123
    left_back_zero_point: 456
    right_back_zero_point: 789
    right_front_zero_point: 147

    yaw_motor_zero_point: 258
    pitch_motor_zero_point: 369

    imu_gx_bias: 1.
    imu_gy_bias: 5.
    imu_gz_bias: 9.

chassis:
  ros__parameters:
    wheels_vel_kp: 0.
    wheels_vel_ki: 0.
    wheels_vel_kd: 0.
    
    steers_angle_kp: 0.
    steers_angle_ki: 0.
    steers_angle_kd: 0.
    
    steers_vel_kp: 0.
    steers_vel_ki: 0.
    steers_vel_kd: 0.

    steers_angle_integral_min: -100.
    steers_angle_integral_max: 100.
    steers_angle_output_min: -100.
    steers_angle_output_max: 100.

    steers_vel_integral_min: -100.
    steers_vel_integral_max: 100.
    steers_vel_output_min: -100.
    steers_vel_output_max: 100.

    wheels_vel_integral_min: -100.
    wheels_vel_integral_max: 100.
    wheels_vel_output_min: -100.
    wheels_vel_output_max: 100.
    

# === old school

referee_status:
  ros__parameters:
    path: /dev/ttyUSB0

gimbal_controller:
  ros__parameters:
    upper_limit: -0.4598
    lower_limit: 0.4362

yaw_angle_pid_controller:
  ros__parameters:
    measurement: /gimbal/yaw/control_angle_error
    control: /gimbal/yaw/control_velocity
    kp: 15.0
    ki: 0.0
    kd: 0.0

yaw_velocity_pid_controller:
  ros__parameters:
    measurement: /gimbal/yaw/velocity_imu
    setpoint: /gimbal/yaw/control_velocity
    control: /gimbal/yaw/control_torque
    kp: 3.5
    ki: 0.0
    kd: 0.0

pitch_angle_pid_controller:
  ros__parameters:
    measurement: /gimbal/pitch/control_angle_error
    control: /gimbal/pitch/control_velocity
    kp: 20.00
    ki: 0.0
    kd: 0.0

pitch_velocity_pid_controller:
  ros__parameters:
    measurement: /gimbal/pitch/velocity_imu
    setpoint: /gimbal/pitch/control_velocity
    control: /gimbal/pitch/control_torque
    kp: 0.8
    ki: 0.0
    kd: 0.0


shooting_controller:
  ros__parameters:
    friction_velocity: 700.0
    shot_frequency: 20.0
    safe_shot_frequency: 10.0

left_friction_velocity_pid_controller:
  ros__parameters:
    measurement: /gimbal/left_friction/velocity
    setpoint: /gimbal/left_friction/control_velocity
    control: /gimbal/left_friction/control_torque
    kp: 0.003436926
    ki: 0.00
    kd: 0.009373434

right_friction_velocity_pid_controller:
  ros__parameters:
    measurement: /gimbal/right_friction/velocity
    setpoint: /gimbal/right_friction/control_velocity
    control: /gimbal/right_friction/control_torque
    kp: 0.003436926
    ki: 0.00
    kd: 0.009373434

bullet_feeder_velocity_pid_controller:
  ros__parameters:
    measurement: /gimbal/bullet_feeder/velocity
    setpoint: /gimbal/bullet_feeder/control_velocity
    control: /gimbal/bullet_feeder/control_torque
    kp: 0.583
    ki: 0.0
    kd: 0.0
